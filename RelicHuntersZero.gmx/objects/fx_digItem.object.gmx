<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>spr_fx_digItem</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>-9999999</depth>
  <persistent>0</persistent>
  <parentName>&lt;undefined&gt;</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Setup
image_speed = 0.1;

audio_stop_all();
audio_play_sound(sfx_dig_done,99,false);
if (global.ambientSound) audio_play_sound(global.ambientSound,9,true);

relic = noone;
endlessRelic = noone;
endlessWeapon = noone;

itemSprite = spr_pineapple1;
itemFrame = 14;
itemAlpha = 1;
itemAlphaSpeed = 0;
itemAlphaSpeedMax = 0.02;
itemAlphaSpeedAccel = 0.0005;

animationDone = false;


</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Alpha control &amp; Death

if (animationDone) 
{
    if (itemAlphaSpeed &lt; itemAlphaSpeedMax) itemAlphaSpeed += min(itemAlphaSpeedAccel, (itemAlphaSpeedMax-itemAlphaSpeed));

    if (itemAlpha &gt; 0) itemAlpha -= itemAlphaSpeed;
    else instance_destroy();
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="7" enumb="7">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Animation Done + Relic Unlock + Announcement

animationDone = true;
image_index = image_number-1;
image_speed = 0;

if (relic != noone)
{
    relic = instance_create(0,0,relic);
    
    relic.unlock = true;
    
    if (instance_exists(fx_bigMessage)) with (fx_bigMessage) instance_destroy();
        
    relic.announce = instance_create(x,y,fx_bigMessage);
    relic.announce.textBig = loc_key("HUD_UNLOCK_RELIC_PIECE");
    relic.announce.textSmall = loc_key("HUD_UNLOCK_RELIC_ALLPIECES");
    relic.announce.relicSprite1 = relic.relicSprite1;
    relic.announce.relicSprite1Draw = relic.relicSprite1Draw;
    relic.announce.relicSprite2 = relic.relicSprite2;
    relic.announce.relicSprite2Draw = relic.relicSprite2Draw;
    relic.announce.relicSprite3 = relic.relicSprite3;
    relic.announce.relicSprite3Draw = relic.relicSprite3Draw;    
    exit; 
}

if (endlessWeapon != noone)
{
    var weapon = instance_create(x,y,endlessWeapon);
    var wPos = get_bbox_center(weapon);
    weapon.x += x-wPos[0];
    weapon.y += y-wPos[1];
    exit;
}

if (endlessRelic != noone)
{
    var myRelic = instance_create(0,0,endlessRelic);
    myRelic.activationOverride = true;
    myRelic.activationClient = activationClient;
    myRelic.toggle = true;
    with (myRelic) {
        event_perform(ev_step,ev_step_begin);
        instance_destroy();
    }
    if (instance_exists(class_gui_dynamic_relic)) with (class_gui_dynamic_relic) timedActive = true;
    exit;
}

</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Draw

if (image_index &gt;= itemFrame)
{
    draw_sprite_ext(itemSprite,0,x,y-155,1,1,0,c_white,itemAlpha);
}

if (!animationDone) draw_self();

</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints/>
</object>
